const element = document.querySelector('#selectCustom');
const choices = new Choices(element, {
    searchEnabled: false
});



$(document).ready(function() {
    $('.header__burger').click(function(event) {
        $('.header__burger,.nav-list').toggleClass('active');
    });
});

function setMenuListener() {
    const btnClassName = 'main-list__btn';
    const activeClassName = 'is-active';

    document.body.addEventListener('click', (evt) => {
        const activeElements = document.querySelectorAll(`.${activeClassName}`);

        if (activeElements.length && !evt.target.closest(`.${activeClassName}`)) {
            activeElements.forEach((current) => {
                current.classList.remove(activeClassName);
            });
        }

        if (evt.target.closest(`.${btnClassName}`)) {
            const btn = evt.target.closest(`.${btnClassName}`);
            const path = btn.dataset.path;
            const drop = document.querySelector(`[data-target="${path}"]`);

            btn.classList.toggle(activeClassName);
            drop.classList.toggle(activeClassName);
        }

    })

}



setMenuListener();


var swiper = new Swiper(".image-slider", {

    slidesPerGroup: 3,
    slidesPerView: 1,
    slidesPerColumn: 2,
    spaceBetween: 50,
    pagination: {
        el: ".swiper-pagination",
        type: "fraction",
        clickable: true,



    },

    navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
    },


    breakpoints: {

        320: {

            slidesPerView: 1,
            slidesPerColumn: 1,
            spaceBetween: 0,
        },

        500: {

            slidesPerView: 1,
            slidesPerColumn: 1,
            spaceBetween: 0,
        },

        541: {

            slidesPerView: 1,
            slidesPerColumn: 1,
            spaceBetween: 0,
        },

        768: {

            slidesPerView: 2,
            slidesPerColumn: 2,
            spaceBetween: 20,
        },

        1024: {
            slidesPerGroup: 2,
            slidesPerView: 2,
            slidesPerColumn: 2,
            spaceBetween: 20,
        },

        1300: {
            slidesPerGroup: 3,
            slidesPerView: 3,
            slidesPerColumn: 2,
            spaceBetween: 20,
        },


    },

    mobileFirst: false,
    appendArrows: $('.content')
});




document.addEventListener('DOMContentLoaded', function() {
    $(".js-tabs").tabs({
        show: { effect: "fadeIn", duration: 400 },
        hide: { effect: "fadeOut", duration: 300 },
        //active: 1
    });

    function setCustomTabs() {
        const customTabName = "js-custom-tab";
        const tabs = Array.from(document.querySelectorAll(`.${customTabName}[data-path]`));
        const content = Array.from(document.querySelectorAll(`.${customTabName}[data-target]`));

        content.forEach(function(el, i) {
            if (i !== 0) {
                el.classList.add('is-hidden');
            }
        });

        tabs.forEach(function(el) {
            el.addEventListener('click', function() {
                const path = this.dataset.path;

                content.forEach(function(el) {
                    if (path !== el.dataset.target) {
                        el.classList.add('is-hidden');
                    } else {
                        el.classList.remove('is-hidden');
                    }
                });
            });
        });
    }

    setCustomTabs();
});
